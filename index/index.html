<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">                                                                                                                                </html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>S - Gadgets</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    
    
    <script>
      var URL_BASE = "http://localhost:4567/"
      //var URL_BASE = "https://backend-production-1432.up.railway.app"
      var prod
          axios.get(URL_BASE + "/productos")
              .then(function (response) {
                const dt = response.data
                var text = ""
                for(i in dt){

                  text += '<div class="proyecto">' +
                            '<img src="'+dt[i].link+'" alt="Proyecto" class="imagen-proyecto"> '+
                            '<figcaption> '+'ID:'+dt[i].id+' </figcaption>'+
                            '<figcaption> '+dt[i].nombre+' </figcaption> '+
                            '<div class="coloca">'+
                              '<figcaption class="price">'+'$'+dt[i].precio+'</figcaption>'+
                            '</div>'+
                          '</div>'
                  tabla(text);
                }
              })
              .catch(function (error) {
                  console.log(error);
              });
      function tabla(text) {
        document.getElementById("galeria-proyectos").innerHTML = text;
        
      }
    </script>
    <link rel="stylesheet" href="../css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="../css/main.css">
  </head>
  <body>

    <!-- Boton "Volver Arriba" -->
    <div class="btn-volver-arriba" id="btnVolverArriba">
      <a href="#" class="volver-arriba">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
      </a>
    </div>

    <!-- Encabezado -->
    <header>
      <!-- Versión móvil -->
      <div class="menu-mobile">
        <div class="barra">
          <a href="#" class="logo">
            <img src="../img/logotipo.png" alt="Logo S - Design Studio">
          </a>
          <a href="#" id="btnMenu">
            <i class="fa fa-bars" aria-hidden="true"></i>
          </a>
        </div>
        <nav class="menu-principal">
          <a href="#" class="volver-arriba">INICIO</a>
          <a href="#proyectos" class="scroll-suave">PRODUCTOS</a>
          <a href="#acercaDe" class="scroll-acercaDe">CONÓCENOS</a>
          <a href="#equipo" class="scroll-equipo">NUESTRO EQUIPO</a>
          <a href="#contacto" class="scroll-suave">AGREGA PRODUCTOS</a>
        </nav>
      </div>

      <!-- Versión escritorio -->
      <div class="menu-bar-pc">

        <a href="#" class="logo">
          <img src="../img/logotipo.png" alt="Logo S - Design Studio">
        </a>

        <nav class="menu-principal">
          <a href="#" class="volver-arriba">INICIO</a>
          <a href="#proyectos" class="scroll-suave">PRODUCTOS</a>
          <a href="#acercaDe" class="scroll-acercaDe">CONÓCENOS</a>
          <a href="#equipo" class="scroll-equipo">NUESTRO EQUIPO</a>
          <a href="#contacto" class="scroll-suave">AGREGA PRODUCTOS</a>
        </nav>

        <div class="top-redes">
          <a href="#">
            <i class="fa fa-facebook" aria-hidden="true"></i>
          </a>
          <a href="#">
            <i class="fa fa-twitter" aria-hidden="true"></i>
          </a>
          <a href="#">
            <i class="fa fa-instagram" aria-hidden="true"></i>
          </a>
        </div>

      </div>
    </header>

    <div class="fixed-header" id="fixedHeader">
      <a href="#"  class="logo">
        <img src="../img/logotipo.png" alt="Logo S -Gadgets">
      </a>
      <nav class="menu-principal">
        <a href="#" class="volver-arriba">INICIO</a>
        <a href="#proyectos" class="scroll-suave">PRODUCTOS</a>
        <a href="#acercaDe" class="scroll-acercaDe">CONÓCENOS</a>
        <a href="#equipo" class="scroll-equipo">NUESTRO EQUIPO</a>
        <a href="#contacto" class="scroll-suave">AGREGA PRODUCTOS</a>
      </nav>
      <div class="top-redes">
        <a href="#">
          <i class="fa fa-facebook" aria-hidden="true"></i>
        </a>
        <a href="#">
          <i class="fa fa-twitter" aria-hidden="true"></i>
        </a>
        <a href="#">
          <i class="fa fa-instagram" aria-hidden="true"></i>
        </a>
      </div>
    </div>

    <!-- Main -->
    <section class="main">
      <!-- Banner Principal -->
      <section class="banner-principal">
        <div class="banner" id="banner"></div>
        <div class="texto-banner">
          <h2>Siempre Innovando</h2>
          <h1>Gadgets</h1>
          <a href="#proyectos" class="scroll-suave">VER PRODUCTOS</a>
        </div>
      </section>

      <!-- Proyectos -->
      <section class="proyectos" id="proyectos">
        <div class="contenedor">
          <div class="titulo-seccion">
            <h2>Ultimos Productos</h2>
            <p>Somos especialistas en entregar los mejores productos y la más alta calidad</p>
          </div>
          <div class="galeria-proyectos" id="galeria-proyectos">
          </div>
        </div>
      </section>

      <!-- Acerca de -->
      <section class="acerca-de" id="acercaDe">
        <div class="contenedor">
          <div class="titulo-seccion">
            <h2>Acerca de</h2>
            <p>Disfruta de la mejor tecnología y las mejores marcas en productos electrónicos</p>
          </div>
          <div class="texto-acerca-de">

            <p>Conoce los mejores productos que hay</p>

            <p>Los mejores productos precios/calidad</p>

          </div>
        </div>
      </section>

      <!-- Slider -->
      <section class="contenedor-slider">
        <div class="slider" id="slider">
          <div class="slide">
            <img src="../img/slide1.jpg" alt="Slide">
          </div>
          <div class="slide">
            <img src="../img/slide2.jpg" alt="Slide">
          </div>
          <div class="slide">
            <img src="../img/slide3.jpg" alt="Slide">
          </div>
          <div class="slide">
            <img src="../img/slide4.jpg" alt="Slide">
          </div>
        </div>
        <div class="btn-anterior" id="btnAnterior">
          <i class="fa fa-arrow-left" aria-hidden="true"></i>
        </div>
        <div class="btn-siguiente" id="btnSiguiente">
          <i class="fa fa-arrow-right" aria-hidden="true"></i>
        </div>
      </section>

      <!-- Nuestro equipo -->
      <section class="nuestro-equipo" id="equipo">
        <div class="contenedor">
          <div class="titulo-seccion">
            <h2>Nuestro equipo</h2>
            <p>Personas expertas y apasionadas por lo que hacen</p>
          </div>
          <div class="equipo">
            <div class="persona-equipo">
              <div class="foto">
                <img src="../img/foto1.jpg" alt="Persona">
              </div>
              <div class="texto">
                <h3>Aaron Hernandez</h3>
                <h4>Tecnico</h4>
                <p>Siempre ofreciendo las mejores soluciones a tus necesidades </p>
              </div>
            </div>

            <div class="persona-equipo">
              <div class="foto">
                <img src="../img/foto2.jpg" alt="Persona">
              </div>
              <div class="texto">
                <h3>Joyce Enid</h3>
                <h4>Tecnico</h4>
                <p>Siempre ofreciendo las mejores soluciones a tus necesidades </p>
              </div>
            </div>

            <div class="persona-equipo">
              <div class="foto">
                <img src="../img/foto3.jpg" alt="Persona">
              </div>
              <div class="texto">
                <h3>Omar Alfredo</h3>
                <h4>Tecnico</h4>
                <p>Siempre ofreciendo las mejores soluciones a tus necesidades. LEVEL pro</p>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- Seccion Información extra -->
      <section class="info-extra">
        <div class="contenedor">
          <div class="info">

            <div class="contenido-info">
              <div class="icono-info">
                <i class="fa fa-paint-brush" aria-hidden="true"></i>
              </div>
              <div class="texto-info">
                <h4>Creamos e inovamos</h4>
                <p>Los mejores precios</p>
              </div>
            </div>

            <div class="contenido-info">
              <div class="icono-info">
                <i class="fa fa-desktop" aria-hidden="true"></i>
              </div>
              <div class="texto-info">
                <h4>Creamos</h4>
                <p>Tenemos todo para tí</p>
              </div>
            </div>

          </div>
          <div class="foto">
          </div>
        </div>
      </section>

      <!-- Contacto -->
      <div class="contacto" id="contacto" data-parallax="scroll" data-image-src="../img/bg-contacto.jpg">
        <div class="contenedor">
          <div class="contenedor-formulario">

            <div class="formulario" id="formularioEditar">
              
              <h2>Edita algun producto</h2>
              <form id="formularioEditar">
               
                <div>
                  <textarea name="Borrareditar" placeholder="ID" id="id2"></textarea>
                 </div>

                <div>
                  <textarea name="nombre" placeholder="Nombre" id="nombre2"></textarea>
                </div>
               <div>
                <textarea name="preci" placeholder="Precio" id="precio2"></textarea>
               </div>
             
             
               <div>
                <textarea name="link2" placeholder="Nuevo link" id="link2"></textarea>
               </div>


               <div>
                <input type="button" class="btn btn-success" name="enviar" value="ACTUALIZAR" id="actualizar">
               </div>
                
              </form>
            </div>

            <div class="formulario" id="formulario">
              <form id="formulario">
              <h2>Agrega un producto</h2>
              <form action="http://localhost:4567/creaProductos" method="post" id="formulario">
               
                <div>
                  <textarea name="nombre" placeholder="Nombre" id="nombre"></textarea>
                </div>
               <div>
                <textarea name="preci" placeholder="precio" id="precio"></textarea>
               </div>
               <div>
                <textarea name="link" placeholder="link" id="linkp"></textarea>
               </div>


                <div>
                  <input type="button" class="btn btn-info" name="registrar" value="REGISTRAR" id="registrar">
                  
                </div>
              </form>
            </div>


            <div class="formulario" id="formularioBorrar">
              <h2>Elimina un producto</h2>
              <form id="formularioBorrar">
               <div>
                <textarea name="Borrar" placeholder="ID" id="Borrarid"></textarea>
               </div>
               
               <div>
                <input type="button" class="btn btn-danger" name="borrar" value="BORRAR" id="btnborra">
              </div>

              </form>
            </div>
          </div>
        </div>

        

      </div>
      

    </section>

    <!-- Pie de página -->
    <footer>
      <div class="copy">
        <p>Todos los derechos reservados a la Universidad Veracruzana</p>
      </div>
      <div class="footer-redes">
        <a href="#">
          <i class="fa fa-facebook" aria-hidden="true"></i>
        </a>
        <a href="#">
          <i class="fa fa-twitter" aria-hidden="true"></i>
        </a>
        <a href="#">
          <i class="fa fa-instagram" aria-hidden="true"></i>
        </a>
      </div>
    </footer>

    <script src="js/jquery.min.js"></script>
    <!-- <script src="js/banner.js"></script> -->
    <script src="js/stickyHeader.js"></script>
    <script src="js/scrollSuave.js"></script>
    <script src="js/modal.js"></script>
    <script src="js/slider.js"></script>
    <!-- <script src="js/bgParallax.js"></script> -->
    <script src="js/validacion.js"></script>
    <script src="js/menuMobile.js"></script>


    <script src="js/parallax.min.js"></script>
    <!-- Buscar:
    t(e).on("ready.px.parallax.data-api",function(){t('[data-parallax="scroll"]').parallax()})}

    Reemplazar por:
    t(function(){t('[data-parallax="scroll"]').parallax()})} -->
    <script src="js/prefixfree.min.js"></script>
      
    <script>
      var URL_BASE ="http://localhost:4567"
      var bCrear = document.getElementById("registrar")
      var bBorrar = document.getElementById("btnborra");
      var bEditar = document.getElementById("actualizar");
     bCrear.addEventListener("click", function () {
          //let id_ = document.getElementById("id").value
          let nombre_ = document.getElementById("nombre").value
          let precio_ = document.getElementById("precio").value
          let link_ = document.getElementById("linkp").value
          axios.post(URL_BASE + "/creaProductos", {
              nombre: nombre_,
              precio: precio_,
              link: link_
            })
              .then(function (response) {
                console.log(response.data);  
                alert(response.data);
                window.location.reload();
              })
              .catch(function (error) {
                  console.log(error);
              });
      })

     bBorrar.addEventListener("click", function(){
        let id_=document.getElementById("Borrarid").value
        axios.get(URL_BASE+"/borrarProducto",{
          params:{
           id : id_
          }
        }
        ).then(function (response){
          console.log(response.data);
          alert(response.data);
          window.location.reload();
        }).catch(function (error){
          
          console.log(error);
        })
      })


      bEditar.addEventListener("click", function(){
        let iid=document.getElementById("id2").value
        let nnombre=document.getElementById("nombre2").value
        let pprecio=document.getElementById("precio2").value
        let llink=document.getElementById("link2").value
      
        axios.post(URL_BASE+"/actualizarProducto", {
            id: iid,
            nombre: nnombre,
            precio: pprecio,
            link: llink
          
        }).then((result) => {
    alert(result.data);
   window.location.reload();
  });
      })


     /* bConsultar.addEventListener("click", function () {
          axios.get(URL_BASE +"/productos")
              .then(function (response) {
                  console.log(response.data);
                  //tabla(response.data)
              })
              .catch(function (error) {
                  console.log(error);
              });
      })*/
  </script>
  </body>
</html>
